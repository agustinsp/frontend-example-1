.intro {
	@include absolute-box-fs;
	top: 14px;
	height: 685px;
	width: 514px;
	padding: 87px 0 0 40px;

	h3 {
		width: 322px; 
        margin-top: 10px;
	}
	p {
		width: 322px;
		padding-bottom: 0.5em;
        margin: 20px 0;
	}
	button {
		width: 160px;
		padding-top: 3px;
	}
}

.steps {
	> li {
		@include absolute-box(72px, 72px);
        
		z-index: $z_step;
        
		&.active {
			z-index: $z_step_active;
			article {
				padding: 25px 45px;
				height: 197px;
				width: 265px;
				overflow: hidden;
			}
            .arrow {
                display: block;
            }
		}
		> a {
			@include absolute-box(72px, 45px);
			top:0;
			right: 0;

			margin: 0;

			z-index: 2;
			display: inline-block;

			padding: 27px 0 0;
            
            position: relative;
            span {
                position: absolute;
                left: 0px;
                top: 0px;
                z-index: -1;
            }
		}
		article {
			@include absolute-box(0, 0);
			top: 0px;
			height: 0px;
			overflow: hidden;
			z-index: 1;
			margin: 36px;
			button { @include transparent; }
			&.show-text button { @include opaque; }
		}
		.arrow {
            display: none;
			position: absolute;
			z-index: 1;
		}
		&.benefits {
			&.active {
				width: 528px;
				height: 402px;
				margin: 0;

				article {
					width: 438px;
					height: 352px;
				}
				.x img {
					width: auto;
				}
			}
			width: 0px;
			height: 0px;
			top: 179px;
			left: 250px;
			margin: 201px 264px;

			article {
				margin: 0;
			}
			.x {
				position: absolute;
				padding: 0;
				right: -36px;
				top: -36px;
				img {
					width: 0;
				}
			}
			ul {
				display: block;
				padding-left: 40px;
				padding-top: 5px;
			}
            li {
                list-style-type: disc;
                padding: 4px 0;
            }
			button {
				width: 140px;
				padding-top: 5px;
				float: right;
				margin: 20px 0 0 20px;
				font-size: 15px;
			}
		}
	}
}

.city {
	@include absolute-box-fs;
	&.active {
		.content { 
			display: block;
		}
	}
	.content {
		@include absolute-box-fs;
		display: none;
		
		> h2 {
			@include absolute-box(0, 0);
		}
	}
	
	@mixin city-bg ($z-index, $width, $height, $top, $left){
		z-index: $z-index;
		.background {
			@include absolute-box ($width, $height);
			top: $top;
			left: $left;
		}
	};
	
	&.green {
		@include city-bg ($z_city_green, 420px, 253.5px, $map_green_y, $map_green_x);
		&.active {
			@include city-bg ($z_city_active, 839px, 507px, $green_y, $green_x);
		}
		.steps > li {
            &:nth-of-type(1) {
                left: 488px;
                top: 154px;

                @include step-article-pos(top, right);
                @include step-arrow(12px, -6px);
            }
            &:nth-of-type(2) {
                left: 742px;
                top: 308px;

                @include step-article-pos(top, right);
                @include step-arrow(-115px, -58px);
            }
            &:nth-of-type(3) {
                left: 627px;
                top: 374px;

                @include step-article-pos(bottom, left);
                @include step-arrow(-126px, -42px);
            }
            &:nth-of-type(4) {
                left: 514px;
                top: 439px;

                @include step-article-pos(bottom, left);
                @include step-arrow(-159px, -103px);
            }
            &:nth-of-type(5) {
                left: 301px;
                top: 282px;

                @include step-article-pos(top, left);
            }
		}
	}
	&.blue {
		@include city-bg ($z_city_blue, 420px, 275px, $map_blue_y, $map_blue_x);
		&.active {
			@include city-bg ($z_city_active, 840px, 550px, $blue_y, $blue_x);
		}
		.steps > li {
            &:nth-of-type(1) {
                left: 490px;
                top: 180px;

                @include step-article-pos(top, right);
                @include step-arrow(50px, -100px);
            }
            &:nth-of-type(2) {
                left: 685px;
                top: 180px;

                @include step-article-pos(top, right);
                @include step-arrow(50px, 80px);
            }
            &:nth-of-type(3) {
                left: 687px;
                top: 334px;

                @include step-article-pos(bottom, right);
                @include step-arrow(-90px, 30px);
            }
            &:nth-of-type(4) {
                left: 530px;
                top: 396px;

                @include step-article-pos(bottom, left);
                @include step-arrow(-90px, -40px);
            }
            &:nth-of-type(5) {
                left: 359px;
                top: 375px;

                @include step-article-pos(bottom, left);
                @include step-arrow(-160px, -100px);
            }
            &:nth-of-type(6) {
                left: 298px;
                top: 180px;

                @include step-article-pos(top, left);
            }
		}
	}
	&.purple {
		@include city-bg ($z_city_purple, 420px, 283.5px, $map_purple_y, $map_purple_x);
		&.active {
			@include city-bg ($z_city_active, 840px, 567px, $purple_y, $purple_x);
		}
        .steps > li {
            &:nth-of-type(1) {
                left: 366px;
                top: 98px;

                @include step-article-pos(top, right);
                @include step-arrow(100px, -5px);
            }
            &:nth-of-type(2) {
                left: 666px;
                top: 62px;

                @include step-article-pos(top, right);
                @include step-arrow(60px, 70px);
            }
            &:nth-of-type(3) {
                left: 666px;
                top: 201px;

                @include step-article-pos(top, right);
                @include step-arrow(-120px, -70px);
            }
            &:nth-of-type(4) {
                left: 456px;
                top: 201px;

                @include step-article-pos(top, right);
                @include step-arrow(20px, 25px);
            }
            &:nth-of-type(5) {
                left: 532px;
                top: 314px;

                @include step-article-pos(top, left);
            }
        }
	}
	&.yellow {
		@include city-bg ($z_city_yellow, 420px, 253.5px, $map_yellow_y, $map_yellow_x);
		&.active {
			@include city-bg ($z_city_active, 840px, 507px, $yellow_y, $yellow_x);
		}
        .steps > li {
            &:nth-of-type(1) {
                left: 580px;
                top: 129px;

                @include step-article-pos(top, right);
                @include step-arrow(21px, 23px);
            }
            &:nth-of-type(2) {
                left: 743px;
                top: 223px;

                @include step-article-pos(top, right);
                @include step-arrow(-90px, -60px);
            }
            &:nth-of-type(3) {
                left: 628px;
                top: 289px;

                @include step-article-pos(top, left);
                @include step-arrow(-110px, 50px);
            }
            &:nth-of-type(4) {
                left: 424px;
                top: 236px;

                @include step-article-pos(bottom, left);
                @include step-arrow(-50px, 60px);
            }
            &:nth-of-type(5) {
                left: 425px;
                top: 406px;

                @include step-article-pos(bottom, left);
                @include step-arrow(-110px, -80px);
            }
            &:nth-of-type(6) {
                left: 303px;
                top: 231px;

                @include step-article-pos(top, left);
            }
        }
	}
    
    nav {
        @include absolute-box-fs;
        height: 50px;
        top: 610px;

        ul {
            text-align: center;
            height: 50px;
        }
        li {
            display: inline-block;
            min-width: 40px;
            height: 40px;
            margin: 0 10px;
        }
        a {
            display: block;
            padding: 11px 14px;
        }
    }
}

